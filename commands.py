#!/bin/python3
import socket,subprocess
print("By LPB \nVersion 1.0\n")
server=socket.socket()
address=input("Please input local address:\n")
port=input("Please input a port:\n")
server.bind((address,eval(port)))
server.listen(5)
print("Listening on %s"%port)
while True:
    client,client_IP=server.accept()
    command=client.recv(4096).decode()
    command=command.rstrip()
    try:
        output=subprocess.check_output(command,stderr=subprocess.STDOUT,shell=True)
    except:
        output="Failed"
    response=output+"#>>OK!".encode()
    client.send(response)


    
