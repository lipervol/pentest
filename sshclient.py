#!/bin/python
#coding:UTF-8
import paramiko,threading,subprocess,getpass
def ssh_command(ip,user,passwd,command):
	client=paramiko.SSHClient()
	client.set_missing_host_key_policy(paramiko.AutoAddPolicy())
	client.connect(ip,username=user,password=passwd)
	ssh_session=client.get_transport().open_session()
	if ssh_session.active:
		ssh_session.exec_command(command)
		print ssh_session.recv(1024)
	return
ip=raw_input('输入你想连接到的IP：')
user=raw_input('输入你想要使用的用户名：')
passwd=getpass.getpass('输入密码：')
while True:
    command=raw_input('[#]>>')
    print '[.]>>'
    ssh_command(ip,user,passwd,command)
